h1. Montage Web Framework

_Build your website through the power of the montage._

Montage is an ultra-lightweight MVC framework that does not try to be all things to all people so it can avoid the heft of other frameworks. The goal is to make Montage ultra-flexible yet still super-lightweight.

h2. Getting Started

h3. Terminology

Before you dive in you should be familiar with certain terms Montage uses.

* *App* - This is your web application you are going to build using Montage
* *Controller* - This is the consumer facing part of your application that will handle the requests from your visitors. For example, The default or world accessible part of your site might use the _frontend_ controller. The administration interface might use the _backend_ controller. And API calls might use the _api_ controller.
* *Model* - all your supporting classes/libraries
* *View* - what you will actually show visitors

h3. The directory structure of a Montage web application

<pre>
app_path/
  cache/
  controller/
  model/
  settings/
  view/
  web/
</pre>

* *cache* - Temporary storage for Montage. Montage will cache things to this directory for quicker access. This directory can be cleared at any time without problems.

* *controller* - All your controllers go in this folder in their respective sub directory (e.g., if you are using the frontend controller, then all your frontend controller classes will go in the <code>controller/frontend</code> directory).

* *model* - all supporting classes/libraries go in this directory.

* *settings* - all configuration files go in this directory.

* *view* - all templates should go in this directory.

* *web* - this is the Montage request root directory, it contains the index.php that Montage will use to service all web requests.

h3. Constants that can be set by you

Montage, like any framework, has a chicken or egg problem. Montage needs to know certain things in order to start, but those things are technically _settings_ that should be set using Montage Settings. But a Montage Settings instance can't be created without certain information (like the path to the montage framework). With that in mind, here are the constants that Montage checks in its <code>start.php</code> file:

* *MONTAGE_DEBUG* - whether Montage should print debug output to the screen. Defaults to *true*.
* *MONTAGE_CHARSET* - defaults to UTF-8.
* *MONTAGE_TIMEZONE* - defaults to UTC.
* *MONTAGE_PATH* - the root directory of the Montage Framework, can be auto-discovered.
* *MONTAGE_APP_PATH* - the root directory of the Montage application, can be auto-discovered.
* *MONTAGE_CONTROLLER* - The controller this request should use. *Must be set by user*.
* *MONTAGE_ENVIRONMENT* - The environment this request should use. *Must be set by user*.

h3. Customizing a Montage Application

You can set app specific classes for some of the core classes by just extending them. For example, to create an Application specific request class, you would just do:

<pre>
class request extends montage_request {
  // place application specific methods here
}
</pre>

That's all there is to it. You can extend: <code>montage_request</code>, <code>montage_response</code>, <code>montage_settings</code>, and <code>montage_filter</code>. All your controller classes should extend: <code>montage_controller</code>.

To have custom settings, you just need to place a php file in your Application's <code>settings</code> directory with the name of the environment. For example, if you are using the <code>dev</code> environment, you would create:

<pre>
[MONTAGE_APP_PATH]/settings/dev.php
</pre>

If you want _global_ settings, just place a <code>settings.php</code> file in the settings directory:

<pre>
[MONTAGE_APP_PATH]/settings/settings.php
</pre>

The settings files do follow a precedence chain so <code>settings.php</code> is called first, followed by the environment settings file (so it can override any global settings to environment specific settings.